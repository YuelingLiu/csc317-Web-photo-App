<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>

  <form id="post-image" class="form-grid-postimage" method="POST" enctype="multipart/form-data" name="title">
    <header>
      <h1>
        Post an Image
      </h1>
    </header>
    <div class="title">
      <label for="post-title" class="tags post-lbl-title"> Post Title</label>
      <input id="post-title" class="text-input post-input-title" type="text" placeholder="Post Title" name="title"
        required />
    </div>

    <div class="description">
      <label for="post-desc" class="tags post lbl-desc">Post Description</label>
      <input id="post-desc" class="text-input post-input-desc" type="text" placeholder="Post Description here..."
        name="description" required />
    </div>

    <div class="file-post">
      <label class="tags post-lbl-image">Upload image</label>
      <input id="image-select" class="text-input post-input-image" type="file" name="uploadImage" accept="image/*"
        required />
    </div>


    <div class="check-box">
      <p><input type="checkbox" name="agreement" />
        I accept the
        <a href="http://">Acceptable Use Policy</a>
        for uploading images.
      </p>
    </div>

    <div>
      <button type="post">Post</button>

    </div>

  </form>

  <script>
    const _form = document.getElementById("post-image");
    _form.onsubmit = function (event) {
      event.preventDefault();
      let _body = new FormData(_form);


      axios("/posts/createPost",
        {
          data: _body,
          method: "POST"
        })
        .then((data) => {

          location.replace("/");
          // location.replace(data.data.redirect);
        })
        .catch(err => console.log(err));
    }
  </script>
</body>

</html>